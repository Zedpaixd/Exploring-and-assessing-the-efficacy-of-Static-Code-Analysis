<?php
$fileName = $_GET['file'];

if (preg_match('/^[a-zA-Z0-9]+$/', $fileName) !== 1) {
    die('Invalid file name');
}

$filePath = 'pages/' . $fileName . '.php';
if (file_exists($filePath)) {
    include($filePath);
} else {
    die('Page not found');
}

$views = 0;
if (isset($_COOKIE['views'])) {
    $views = (int) $_COOKIE['views'];
}
$views++;
setcookie('views', $views, time() + 86400 * 30);
echo "This page has been viewed $views times.";
?>